CREATE TABLE public.CLIENTE (
      ID SERIAL PRIMARY KEY,
      LIMITE INT,
      SALDO INT DEFAULT 0
);

CREATE TABLE public.TRANSACAO (
      ID SERIAL PRIMARY KEY,
      CLIENTE_ID INT NOT NULL,
      VALOR INT NOT NULL,
      TIPO CHAR(1) CHECK (TIPO IN ('d', 'c')) NOT NULL,
      DESCRICAO VARCHAR(10) NOT NULL,
      DATA TIMESTAMP NOT NULL,
      FOREIGN KEY (CLIENTE_ID) REFERENCES public.CLIENTE(ID)
);

CREATE INDEX TRANSACAO_DATA_IDX ON TRANSACAO (DATA DESC);

INSERT INTO public.CLIENTE (ID, LIMITE)
VALUES (1, 100000),
       (2, 80000),
       (3, 1000000),
       (4, 10000000),
       (5, 500000);