USE RINHA_BACKEND;

CREATE TABLE CLIENTE (
    ID INT NOT NULL PRIMARY KEY,
    LIMITE INT,
    SALDO INT default 0
);

CREATE TABLE TRANSACAO (
    ID INT NOT NULL PRIMARY KEY AUTO_INCREMENT,
    CLIENTE_ID INT NOT NULL,
    VALOR INT NOT NULL,
    TIPO ENUM('d', 'c') NOT NULL,
    DESCRICAO VARCHAR(10) NOT NULL,
    DATA TIMESTAMP NOT NULL,
    FOREIGN KEY (CLIENTE_ID) REFERENCES CLIENTE(ID),
    INDEX CLIENTE_DATA (CLIENTE_ID ASC, DATA DESC)
);

INSERT INTO CLIENTE (ID, LIMITE)
VALUES (1, 100000),
       (2, 80000),
       (3, 1000000),
       (4, 10000000),
       (5, 500000);